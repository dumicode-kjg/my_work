<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>gsap 공부</title>

    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="common.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/ScrollTrigger.min.js"></script>
  </head>
  <body>
    <div style="width: 100%; height: 50px; background: #000; margin-top: 100vh"></div>

    <div class="box"></div>

    <div style="width: 100%; height: 50px; background: #000; margin-top: 100vh"></div>

    <div class="box2"></div>

    <div style="width: 100%; height: 50px; background: #000; margin-top: 100vh"></div>

    <script>
      gsap.registerPlugin(ScrollTrigger);

      // 첫 번째 타임라인 생성
      var tl = gsap.timeline();

      // 첫 번째 타임라인에 box에 대한 애니메이션 추가
      tl.to(".box", { opacity: 1, duration: 1 }).to(".box", { x: 200, duration: 2 }).to(".box", { rotation: 360, duration: 1 }).to(".box", { y: 100, duration: 1 }).to(".box", { opacity: 0, duration: 1 });

      // ScrollTrigger를 사용하여 첫 번째 타임라인을 화면에 나타낼 때 시작
      ScrollTrigger.create({
        animation: tl,
        trigger: ".box", // box 요소가 화면에 나타날 때 시작
        start: "top 85%",
        end: "bottom 15%",
        markers: true,
        scrub: 1,
      });

      // 두 번째 타임라인 생성
      var tl2 = gsap.timeline();

      // 두 번째 타임라인에 box2에 대한 애니메이션 추가
      tl2.to(".box2", { opacity: 1, duration: 1 }).to(".box2", { x: 200, duration: 2 }).to(".box2", { rotation: 360, duration: 1 }).to(".box2", { y: 100, duration: 1 }).to(".box2", { opacity: 0, duration: 1 });

      // ScrollTrigger를 사용하여 두 번째 타임라인을 화면에 나타낼 때 시작
      ScrollTrigger.create({
        animation: tl2,
        trigger: ".box2", // box2 요소가 화면에 나타날 때 시작
        start: "top 85%",
        end: "bottom 15%",
        markers: true,
        scrub: 1,
      });
    </script>
  </body>
</html>
